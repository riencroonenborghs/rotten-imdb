(()=>{"use strict";class e{constructor(e){this.text=e,this.regExp=/([0-9]{4})(?!p)|(S([0-9]*)E([0-9]*))|(s([0-9]*)e([0-9]*))/}get query(){let e=[],t=!1;return this.text.split(/[\.\- ]/).forEach(((r,s)=>{null!==r.match(this.regExp)&&(t=!0),t?null!==r.match(this.regExp)&&e.push(r):e.push(r)})),e.join(" ")}}class t{constructor(e){this.query=e}get baseUrl(){throw"#baseUrl implement me!"}get url(){return`${this.baseUrl}${this.encodedQuery}`}get encodedQuery(){return encodeURI(this.query)}}class r extends t{get baseUrl(){return"https://www.rottentomatoes.com/search?search="}}class s extends t{get baseUrl(){return"https://www.imdb.com/search/title/?title_type=feature&title="}}class c extends t{get baseUrl(){return"https://www.imdb.com/search/title/?title_type=tv_series&title="}}chrome.contextMenus.removeAll(),chrome.contextMenus.create({id:"rottenIMDB-rottentomatoes",contexts:["selection"],title:"lookup on Rotten Tomatoes",onclick:function(t){const s=t.selectionText,c=new e(s),o=new r(c.query);chrome.tabs.create({url:o.url,active:!1})}}),chrome.contextMenus.create({id:"rottenIMDB-imdb",contexts:["selection"],title:"look up on IMDB",onclick:function(t){const r=t.selectionText,o=new e(r),n=new s(o.query),l=new c(o.query);chrome.tabs.create({url:n.url,active:!1}),chrome.tabs.create({url:l.url,active:!1})}})})();